# Dapr Pub/Sub Subscription Configuration
# Routes task-events topic to the task-completed event handler

apiVersion: dapr.io/v2alpha1
kind: Subscription
metadata:
  name: task-completed-subscription
  namespace: todo-app
spec:
  topic: task-events
  route: /api/events/task-completed
  pubsubname: kafka-pubsub
  scopes:
  - todo-backend
  metadata:
    # Optional: filter events by event type
    - name: eventType
      value: "task-completed"
